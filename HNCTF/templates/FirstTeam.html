{% extends 'Basic.html' %}
{% block title %}队伍{% endblock %}
{% block bodyright %}
<nav class="navbar-default navbar-side" role="navigation">
	<div class="sidebar-collapse">
		<ul class="nav" id="main-menu">
			
			
			<li>
				<a href="{{ url_for('Profile') }}"><i class="fa fa-user"></i> 个人信息</a>
			</li>
			<li>
				<a href="{{ url_for('AllMessage',schoolid=teacher.school_teacher_id) }}"><i class="fa fa-table"></i>
					队伍信息总揽</a>
			
			</li>
			
			<li>
				<a href="{{ url_for('MyPage') }}"><i class="fa fa-users"></i> 个人带队<span
						class="fa arrow"></span></a>
				<ul class="nav nav-second-level">
					{% for t in teams %}
					
					<li>
						<a href="{{ url_for('team',id=t.id) }}" class="active-menu">{{ t.teamname }}</a>
					</li>
					{%endfor%}
				</ul>
		
		</ul>
	
	</div>
</nav>
<div id="page-wrapper">
	<div id="page-inner">
		<div class="col-md-12 col-sm-12">
			<div class="panel panel-default">
				<div class="panel-heading" style="color: #cc0000">
					队伍成员:每支小队最多可有三名成员组成，在这里可增加、删除、修改小队成员信息
				</div>
				<div class="panel-body ">
					<ul class="nav nav-tabs">
						<li class="active"><a href="#home-pills" data-toggle="tab">小队成员信息</a>
						</li>
						{% for i in range(team.team_members|length) %}
						<li class=""><a href="#{{i}}" data-toggle="tab">成员{{i+1}}信息</a>
						</li>
						{% endfor %}
						{% if (team.team_members|length)<3 %}
						<li>
							<form role="form" method="POST" action="{{url_for('AddTeam')}}">
								<input type="hidden" name="teamid" value="{{team.id}}">
								<button class="btn-primary btn-block btn">添加成员</button>
							</form>
						</li>
						
						{% else %}
						<li>
							<fieldset disabled>
								<button class="btn-primary btn-danger btn">禁止添加</button>
							</fieldset>
						</li>
						{% endif %}
					</ul>
					
					
					<div class="tab-content">
						<div class="tab-pane fade active in" id="home-pills">
							<h4>小队成员信息简要</h4>
							<div class="panel panel-default">
								<div class="panel-body">
									<div class="row">
										<div class="col-lg-6">
											
											<div class="control">
												<fieldset disabled="">
													<div class="form-group">
														<div class="label-page"><label>学校</label></div>
														<input type="text" class="form-control"
														       value="{{ team.Team_school.school }}" name="school"
														       required/>
													</div>
												</fieldset>
											</div>
											<div class="control">
												<fieldset disabled="">
													<div class="form-group">
														<div class="label-page"><label>指导老师</label></div>
														<input type="text" class="form-control"
														       value="{{ team.Team_teacher.teachername }}" required/>
													</div>
												</fieldset>
											</div>
											<fieldset disabled>
												<div class="control">
													<div class="label-page"><label>队名</label></div>
													<input type="text" class="form-control" value="{{ team.teamname }}"
													       required/>
												</div>
											</fieldset>
											{% for i in range(team.team_members|length) %}
											<hr style="height:3px;border:none;border-top:3px groove skyblue;"/>
											
											<form role="form" method="POST" action="{{url_for('dele')}}">
												{% if team.team_members[i].membername!='' %}
												<div class="control has-success">
													<div class="label-page "><label>队员{{i+1}}姓名</label></div>
													<p type="text" class="form-control"
													   value={{ team.team_members[i].membername }}
													   placeholder="请前去完善个人信息" name="membername">{{
														team.team_members[i].membername }}</p>
													<input type="hidden" name="teamid" value="{{team.id}}">
														<input type="hidden" value={{team.team_members[i].id}}}
														       name="memberid">
														<button type="submit" class="btn btn-danger ">移除队员</button>
												</div>
													{%else%}
													<div class="control has-error">
														<div class="label-page "><label>队员{{i+1}}姓名</label></div>
														<p type="text" class="form-control"
														   value="请前去完善个人信息"
														   placeholder="请前去完善个人信息" name="membername">请前去完善个人信息</p>
														<input type="hidden" name="teamid" value="{{team.id}}">
														<input type="hidden" value={{team.team_members[i].id}}}
														       name="memberid">
														<button type="submit" class="btn btn-danger ">移除队员</button>
													</div>
													{%endif%}
											</form>
											<div class="control has-success">
												<div class="label-page"><label>队员{{i+1}}技能偏向</label></div>
												<p type="text" class="form-control"
												   value={{ team.team_members[i].memberskill }} name="memberskill"
												   required>{{ team.team_members[i].memberskill }}</p>
											</div>
											<div class="control has-success">
												<div class="label-page"><label>队员{{i+1}}手机号</label></div>
												<p type="text" class="form-control"
												   value={{ team.team_members[i].memberphone }} name="memberphone"
												   required>{{ team.team_members[i].memberphone }}</p>
											</div>
										
											{%endfor%}
										
										</div>
									</div>
								</div>
							</div>
						</div>
						{% for i in range (team.team_members|length) %}
						<div class="tab-pane fade" id="{{i}}">
							<h4>第{{i+1}}名成员信息完善或修改</h4>
							<div class="panel panel-default">
								<div class="panel-body">
									<div class="row">
										<div class="col-lg-6">
											<form role="form" method="POST" action="Updata/">
												<div class="control">
													<fieldset disabled="">
														<div class="form-group">
															<div class="label-page"><label>学校</label></div>
															<input type="text" class="form-control"
															       value="{{ team.Team_school.school }}" name="school"
															       required/>
														</div>
													</fieldset>
												</div>
												<div class="control">
													<fieldset disabled="">
														<div class="form-group">
															<div class="label-page"><label>指导老师</label></div>
															<input type="text" class="form-control"
															       value="{{ team.Team_teacher.teachername }}"
															       required/>
														</div>
													</fieldset>
												</div>
												<fieldset disabled>
													<div class="control">
														<div class="label-page"><label>队名</label></div>
														<input type="text" class="form-control"
														       value="{{ team.teamname }}" required/>
													
													</div>
												</fieldset>
												<div class="control">
													<div class="label-page"><label>队员姓名</label></div>
													<input type="text" class="form-control" pattern="[A-Za-z0-9\u4e00-\u9fa5]{2,10}" title="2-10位，不得出现特殊字符"
													       value="{{ team.team_members[i].membername }}"
													       placeholder="请填写真实姓名 " name="membername" required/>
													<input type="hidden" value="{{ team.team_members[i].id}}"
													       name="memberid">
													<input type="hidden" value="{{ team.id}}" name="team_id">
												</div>
												<!--<div class="control">-->
												<!--<div class="label-page"><label >性别</label></div>-->
												<!--<input type="text" class="form-control" value ="{{ team.team_members[i].membersex }}"  placeholder="请填写性别：男or女 " name="membersex"  required />-->
												<!--</div>-->
												<div class="control">
													<div class="label-page"><label>性别</label></div>
													<!--<input type="text" class="form-control" value ="{{ team.team_members.teachersex }}"  name="teachersex"  required />-->
													{% if team.team_members[i].membersex =='女' %}
													<input type="radio" name="membersex" value="男"><span
														style="padding-right: 30px">男</span>
													
													<input type="radio" name="membersex" value="女" checked><span
														style="padding-right: 30px">女</span>
													{% else %}
													<input type="radio" name="membersex" value="男" checked><span
														style="padding-right: 30px">男</span>
													
													<input type="radio" name="membersex" value="女"><span
														style="padding-right: 30px">女</span>
													{% endif %}
												</div>
												<div class="control">
													<div class="label-page"><label>专业/年级</label></div>
													<input type="text" class="form-control" pattern="[A-Za-z0-9\u4e00-\u9fa5]{2,10}" title="2-10位，不得出现特殊字符"
													       value="{{ team.team_members[i].membergrade }}"
													       placeholder="请填写专业年级：网络工程161 " name="membergrade"/>
												</div>
												
												<div class="control">
													<div class="label-page"><label>衣服尺码</label></div>
													<div class="form-group">
														<select class="form-control" name="membersize"  >
															<option>{{team.team_members[i].membersize }}</option>
															<option>s</option>
															<option>m</option>
															<option>l</option>
															<option>xl</option>
															<option>xxl</option>
															<option>xxxl</option>
														</select>
													</div>
													<!--<input type="text" list="browsers" class="form-control"-->
													<!--value="{{ team.team_members[i].membersize }}"-->
													<!--placeholder=" 请填写尺码：s m l xl xxl xxxl'" name="membersize"-->
													<!--required/>-->
													<!--<datalist id="browsers">-->
													<!--<option value="S">-->
													<!--<option value="M">-->
													<!--<option value="L">-->
													<!--<option value="XL">-->
													<!--<option value="XXL">-->
													<!--</datalist>-->
												</div>
												
												<div class="control">
													<div class="label-page"><label>技能偏向</label></div>
													<input type="text" class="form-control" pattern="[A-Za-z0-9\u4e00-\u9fa5]{2,10}" title="2-10位，不得出现特殊字符"
													       value="{{ team.team_members[i].memberskill }}"
													       placeholder="请填写擅长技能：web、二进制、数据分析等 " name="memberskill" required
													>
												</div>
												<div class="control">
													<div class="label-page"><label>手机号</label></div>
													<input type="text" class="form-control"  pattern="1\d{10}" title="请填写11位有效的手机号码"
													       value="{{ team.team_members[i].memberphone }}"
													       placeholder="请填写真实手机号 " name="memberphone" required/>
												</div>
												<div class="control">
													<div class="label-page"><label>邮箱</label></div>
													<input type="text" class="form-control" pattern="^[a-zA-Z0-9_.-]+@[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*\.[a-zA-Z0-9]{2,6}$" title="请输入正确的email格式"
													       value="{{ team.team_members[i].memberemail }}"
													       placeholder=" 请填写真实邮箱" name="memberemail">
												</div>
												<div class="control">
													<div class="label-page"><label>备注</label></div>
													<input type="text" class="form-control" pattern="[A-Za-z0-9\u4e00-\u9fa5]{0,10}" title="0-10位，不得出现特殊字符。"
													       value="{{ team.team_members[i].memberroom }}" placeholder=" "
													       name="memberroom">
												</div>
												
												<button type="submit" class="btn btn-primary center-block">提交修改信息
												</button>
											</form>
										</div>
									</div>
								</div>
							</div>
						</div>
						{% endfor %}
					
					
					</div>
				</div>
			</div>
		</div>
	</div>
</div>


{% endblock %}





